<div (click)="toggleList(input);" class="col-12 city-selection">
  Город вылета:
  <input 
    #input
    type="text"
    class="departure-city"
    [style.width.px]="value.length*8"
    [style.minWidth.px]="30"
    maxlength="50"
    [value]="value"
    (focus)="value=$event.target.value=''"
    (keydown.enter)="toggleList(input)"
    (input)="onInput($event)"
  >
  <app-search-list
    *ngIf="isShowList"
    [borderColor]="'#ffffff'"
    [list]="searchCityList"
    (itemClick)="searchData.departureCity = $event.name;"
  ></app-search-list>
</div>
<div class="col-12 search__form_top">
  <app-input-drop
    class="search__input search__input_country"
    [label]="'Страна'"
    [placeholder]="'Выберете направление'"
    [inputValue]="searchData.countryVisited"
  >
    <svg icon class="svg-control" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
      <path fill="#6495ED" d="M192 0C86.4 0 0 86.4 0 192c0 76.8 25.6 99.2 172.8 310.4 4.8 6.4 12 9.6 19.2 9.6s14.4-3.2 19.2-9.6C358.4 291.2 384 268.8 384 192 384 86.4 297.6 0 192 0zm.01 474c-19.67-28.17-37.09-52.85-52.49-74.69C42.64 261.97 32 245.11 32 192c0-88.22 71.78-160 160-160s160 71.78 160 160c0 53.11-10.64 69.97-107.52 207.31-15.52 22.01-33.09 46.91-52.47 74.69zM256 184c13.25 0 24-10.75 24-24 0-13.26-10.75-24-24-24s-24 10.74-24 24c0 13.25 10.75 24 24 24zm11.84 53.34C249.03 259.38 221.41 272 192 272s-57.03-12.62-75.84-34.64c-5.72-6.73-15.84-7.44-22.53-1.78-6.75 5.75-7.53 15.84-1.78 22.56C116.72 287.28 153.22 304 192 304s75.28-16.72 100.16-45.88c5.75-6.72 4.94-16.83-1.78-22.56-6.66-5.72-16.79-4.94-22.54 1.78zM128 184c13.25 0 24-10.75 24-24 0-13.26-10.75-24-24-24s-24 10.74-24 24c0 13.25 10.75 24 24 24z" class=""></path>
    </svg>
    <ng-container advancedParams>
      <ng-template
        [ngTemplateOutlet]="countriesList"
        [ngTemplateOutletContext]="{
          list: popularCounytriesList,
          label: 'Популярные страны'
        }"
      ></ng-template>
      <ng-template
        [ngTemplateOutlet]="countriesList"
        [ngTemplateOutletContext]="{
          list: otherCounytriesList,
          label: 'Остальные страны'
        }"
      ></ng-template>
    </ng-container>
  </app-input-drop>
  <app-input-drop
    class="search__input search__input_date"
    [label]="'Дата вылета'"
    [placeholder]="'Выберете период вылета'"
    [inputValue]=""
  >
    <svg image class="svg-control" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
      <path fill="#6495ED" d="M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"></path>
    </svg>
  </app-input-drop>
  <app-input-drop
    class="search__input search__input_nigth"
    [label]="'Количество ночей'"
    [placeholder]="'Выберите количество ночей'"
    [inputValue]=""
  >
    <svg image class="svg-control" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
      <path fill="#6495ED" d="M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"></path>
    </svg>
  </app-input-drop>
  <app-input-drop
    class="search__input search__input_tourists"
    [label]="'Туристы'"
    [placeholder]="'Количество человек'"
    [inputValue]=""
  >
    <svg image class="svg-control" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
      <path fill="#6495ED" d="M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"></path>
    </svg>
  </app-input-drop>
  <div class="form-group save-button">
    <button
      class="btn btn-primary btn-block"
      (click)="goToProduct(data)"
    >Search</button>
  </div>
</div>

<ng-template #countriesList let-list="list" let-label="label">
  <div>{{ label }}</div>
  <ul class="country-check-list">
    <li (click)="checkboxClick(checkbox)" *ngFor="let item of list">
      <input
        #checkbox
        class="country-input"
        type="radio"
        name="country"
        [id]="item.id"
        [value]="item.name"> 
      <label 
        class="country-label"
        [for]="item.id"
      >{{ item.name }}</label>
    </li>
  </ul>
</ng-template>
